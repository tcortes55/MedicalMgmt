@model MedicalMgmt.ViewModels.SelectPhysicianData

@{
    ViewBag.Title = "Marcar consulta";
}

<h2>Marcar consulta</h2>
<h5>Selecione o profissional desejado</h5>
<table class="table">
    <tr>
        <th>
            @*@Html.DisplayNameFor(model => model.Users.fin)*@
            Médico
        </th>
        <th>
            @*@Html.DisplayNameFor(model => model.Expertise)*@
            Especialidade
        </th>
        <th></th>
    </tr>

    @foreach (var item in Model.Physicians)
    {
        string selectedRow = "";
        if (item.PhysicianID == ViewBag.PhysicianID)
        {
            selectedRow = "success";
        }
        <tr class="@selectedRow">
            <td>
                @Html.DisplayFor(modelItem => item.User.FullName)
            </td>
            <td>
                @Html.DisplayFor(modelItem => item.Expertise)
            </td>
            <td>
                @Html.ActionLink("Selecionar", "SelectPhysician", new { physicianID = item.PhysicianID })
            </td>
        </tr>
    }

</table>

@if (Model.Appointments != null)
{
    <div id="Display">
    </div>
}
    
@section Scripts {
    @Scripts.Render("~/bundles/jqueryval")
    <link rel="stylesheet" type="text/css" href="~/Content/jquery.datetimepicker.css" /> >
    <script src="~/Scripts/jquery-1.12.4.js"></script>
    <script src="~/Scripts/jquery.datetimepicker.js"></script>
    <script type="text/javascript">
        $(document).ready(function () {
            $(function () {
                var a = '08:00';
                $('#Display').datetimepicker({

                    onGenerate: function (ct) {
                        jQuery(this).find('.xdsoft_date.xdsoft_weekend')
                          .addClass('xdsoft_disabled');
                    },

                    inline: true,

                    minDate: 0,

                    minTime: a,

                    maxTime: '18:00',

                    //disabledDates: '24.01.2018 09:00',

                    step: 20,

                    lang: 'pt-BR'
                });
            });

        });

    </script>

}
